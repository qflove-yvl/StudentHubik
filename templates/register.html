<!DOCTYPE html>
<html>
<head>
    <title>Регистрация</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="auth-body">

<div class="auth-card fade-in">
    <h2>Создать аккаунт</h2>

    <form method="POST">

        <select name="role" id="roleSelect" onchange="toggleFields()">
            <option value="student">Студент</option>
            <option value="teacher">Преподаватель</option>
        </select>

        <input type="email" name="email" placeholder="Email" required>
        <input type="password" name="password" placeholder="Пароль" required>

        <div id="studentFields">
            <input type="text" name="name" placeholder="ФИО">
            <input type="text" name="group_name" placeholder="Название группы">
        </div>

        <div id="teacherFields" style="display:none;">
            <input type="text" name="surname" placeholder="Фамилия">
            <input type="text" name="firstname" placeholder="Имя">
            <input type="text" name="patronymic" placeholder="Отчество">
        </div>

        <button type="submit">Зарегистрироваться</button>
    </form>

    <a href="{{ url_for('login') }}">Уже есть аккаунт?</a>
</div>

<script>
function toggleFields() {
    let role = document.getElementById("roleSelect").value;

    document.getElementById("studentFields").style.display =
        role === "student" ? "block" : "none";

    document.getElementById("teacherFields").style.display =
        role === "teacher" ? "block" : "none";
}
</script>

</body>
</html>